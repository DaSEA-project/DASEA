https://www.gnu.org/licenses/agpl-3.0[image:https://img.shields.io/badge/License-AGPL%20v3-blue.svg[License: AGPL v3]]

image:artwork/logo.png[image]

== DaSEA - **Da**ta for **S**oftware **E**cosystem **A**nalysis


DaSEA is the name of a dataset of software dependency networks of various ecosystems.
In this repository is the code and documentation of the `dasea` tool, which mines, creates, and releases new versions of the dataset

The latest versions of the dataset are available from https://dependulum.github.io/DASEA/[DASEA].


=== Contribute

See link:https://github.com/dependulum/DASEA/blob/main/CONTRIBUTE.md[CONTRIBUTE.md] file

==== Running Tests


[source,bash]
$ poetry run black -l 120 --check ./dasea
$ poetry run pytest tests



=== License

The source code in this repository, i.e., the `dasea` tool is licensed under link:https://github.com/dependulum/DASEA/blob/main/LICENSE[GNU Affero General Public License v3.0]


=== Mining the Dataset


Every ecosystem that can be mined remotely, i.e., by sending requests to web-APIs, text mining in cloned remote repositories, etc., can be mined directly on a Linux/Unix host.

Requirements are:

  * Python >= 3.9, for example installed via https://github.com/pyenv/pyenv[pyenv]
  * Poetry setup, see the https://python-poetry.org/docs/[official documentation] for installation and use
  * For miners running in virtual machines, which are currently the ports and pkgsrc miners on BSDs, vagrant and VirtualBox have to be installed
  * To release the dataset, `tar` and `bzip2` have to be installed and users need a Zenodo API token

The following three steps have to be executed only once initially.

[source,bash]
$ git clone git@github.com...
$ cd <DASEA>
$ poetry install


The latter command installs
Eventually, we will distribute DASEA as a Python package via PyPI.

Some ecosystem miners, e.g., those mining BSD ports and NetBSD pkgsrc have to be run on the respective BSD OS.
Therefore, in these cases mining takes place in Virtualbox virtual machines that are managed with Vagrant.
That is, on the host machine VirtualBox, Vagrant, and the Vagrant plugins `scp` and `reload` have to be installed.

```
$ vagrant plugin install vagrant-reload
$ vagrant plugin install vagrant-scp
```


.Currently supported miners and how to execute them.
[width="100%",cols="5%,5%,40%,10%,40%",options="header",]
|=======================================================================
|Ecosystem |Package Manager |Repository |Ecosystem Kind |How-to Mine?

// Alire
| Ada
| Alire
| https://github.com/alire-project/alire-index.git
| Programming Language
| `$ poetry run dasea mine alire`
// Conan
| C/C++
| Conan
| https://github.com/conan-io/conan-center-index
| Programming Language
|`$ poetry run dasea mine conan`
// VCPKG
| C/C++
| VCPKG
| https://vcpkg.io/output.json
| Programming Language
|`$ poetry run dasea mine vcpkg`
// FPM
| Fortran
| FPM
| https://raw.githubusercontent.com/fortran-lang/fpm-registry/master/index.json
| Programming Language
|`$ poetry run dasea mine fpm`
// Nimble
| Nim
| Nimble
| https://raw.githubusercontent.com/nim-lang/packages/master/packages.json
| Programming Language
|`$ poetry run dasea mine nimble`
// Cargo
| Rust
| Cargo
| https://crates.io/api/v1/crates
| Programming Language
|`$ poetry run dasea mine cargo`

// Homebrew
| MacOS packages
| Homebrew
| https://formulae.brew.sh/api/formula.json
| Operating system
|`$ poetry run dasea mine homebrew`
// Chromebrew
| ChromeOS packages
| Chromebrew
| https://github.com/skycocker/chromebrew/tree/master/packages
| Operating system
|`$ poetry run dasea mine chromebrew`
// FreeBSD
| FreeBSD ports
| Ports
| `portsnap --interactive fetch` +
`portsnap --interactive extract`
| Operating system
|`$ vagrant up freebsd11` +
`$ bash bin/get_freebsd_ports.sh`
// NetBSD
| NetBSD packages
| PkgSrc
| ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc.tar.gz
| Operating system
|`$ vagrant up netbsd9` +
`$ bash bin/get_netbsd_pkgsrc.sh`
// OpenBSD
| OpenBSD ports
| Ports
| https://cdn.openbsd.org/pub/OpenBSD/6.9/ports.tar.gz
| Operating system
|`$ vagrant up openbsd69` +
`$ bash bin/get_openbsd_ports.sh`


|=======================================================================


=== Compatibility
The following table shows which miners can run on which architecture.


[options="header",]
|===
|Ecosystem |Package Manager |linux/arm64 |linux/amd64 |macOS arm (M1) |macOS x86-64 (Intel) |Windows x86-64
|Ada
|Alire
|
| ✅
| ✅
| ✅
| ❌
|C/C++
|Conan
|
| ✅
| ✅
| ✅
| ❌
|C/C++
|VCPKG
|
| ✅
| ✅
| ✅
| ❌
|Fortran
|FPM
|
| ✅
| ✅
| ✅
| ❌
|Nim
|Nimble
|
| ❌
| ✅
| ❌
| ❌
|Rust
|Cargo
|
| ✅
| ✅
| ✅
| ❌
|macOS packages
|Homebrew
|
| ✅
| ✅
| ✅
| ❌
|ChromOS packages
|Chromebrew
|
| ✅
| ✅
| ✅
| ❌
|FreeBSD ports
|Ports
|
| ✅
| ❌
| ❌
| ❌
|NetBSD pacakges
|PkgSrc
|
| ❌
| ❌
| ✅
| ❌
|OpenBSD
|Ports
|
| ✅
| ❌
| ✅
| ❌
|===
